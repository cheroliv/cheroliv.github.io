<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Cheroliv - Développeur Formateur | Ingénierie Pédagogique</title>

        <script>
          // IIFE to avoid polluting global scope
          (function() {
            try {
              const theme = localStorage.getItem('preferred-theme');
              if (theme) {
                document.documentElement.setAttribute('data-bs-theme', theme);
              }
            } catch (e) {
              // Reading from localStorage can fail in private browsing mode on some browsers
              console.warn('Could not set theme from localStorage', e);
            }
          })();
        </script>

        <!-- Bootstrap 5.3 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" />

        <!-- Bootstrap Icons -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css" rel="stylesheet" />

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <!-- intl-tel-input CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@25.10.1/build/css/intlTelInput.css">

        <!-- Custom CSS -->
        <link href="../../css/styles.css" rel="stylesheet" />

        <!-- highlight.js: theme will be managed dynamically by script.js -->
<link id="highlight-js-theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">

        <link href="../../css/asciidoctor.css" rel="stylesheet"/>



        <!-- Favicon -->
        <link rel="shortcut icon"
              href="../..//img/cheroliv_logo_icon.png"/>

        

        <!-- Meta tags pour SEO -->
        <meta name="description" content="Développeur formateur spécialisé en ingénierie pédagogique. Conception et développement de solutions e-learning innovantes."/>
        <meta name="keywords" content="développement, formation, e-learning, ingénierie pédagogique, JavaScript, Bootstrap"/>
        <meta name="author" content="Cheroliv"/>

    </head>
<body>
<div class="main-content-wrapper">
    <div>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="../../index.html#home">
                <i class="bi bi-code-slash me-2"></i>
                Cheroliv
            </a>

            <button class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"
                    aria-controls="navbarNav"
                    aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-start">
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html#home">Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html#about">À propos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html#expertise">Expertise</a>
                    </li>
<!--                    <li class="nav-item"> -->
<!--                        <a class="nav-link" th:href="${isIndexPage ? '#formations' : content.rootpath + 'index.html#formations'}">Formations</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" th:href="${isIndexPage ? '#portfolio' : content.rootpath + 'index.html#portfolio'}">Portfolio</a>-->
<!--                    </li>-->
                    <li class="nav-item">
                        <a class="nav-link" href="../../blog.html">Blog</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle"
                           href="#"
                           id="memosDropdown"
                           role="button"
                           data-bs-toggle="dropdown"
                           aria-expanded="false">
                            <i class="fa-duotone fa-memo"></i> Memos
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="memosDropdown">
                            <li><a class="dropdown-item" href="../../blog/2022/0052_memo_jvm_post.html"><i class="fa-brands fa-java"></i> jvm</a></li>
                            <li><a class="dropdown-item" href="../../blog/2022/0053_memo_kotlin_post.html"><i class="fa-brands fa-korvue"></i> kotlin</a></li>
                            <li><a class="dropdown-item" href="../../blog/2022/0047_memo_gradle_post.html"><i class="fa-solid fa-industry"></i> gradle</a></li>
                            <li><a class="dropdown-item" href="../../blog/2023/0060_memo_js_post.html"><i class="fa-brands fa-square-js"></i> javascript</a></li>
                            <li><a class="dropdown-item" href="../../blog/2023/0063_memo_ts_post.html"><i class="fa-brands fa-square-js"></i> typescript</a></li>
                            <li><a class="dropdown-item" href="../../blog/2023/0062_memo_css_post.html"><i class="fa-brands fa-css3-alt"></i> css</a></li>
                            <li><a class="dropdown-item" href="../../blog/2023/0061_memo_html_post.html"><i class="fa-brands fa-html5"></i> html</a></li>
                            <li><a class="dropdown-item" href="../../blog/2023/0066_memo_python_post.html"><i class="fa-brands fa-python"></i> python</a></li>
                            <li><a class="dropdown-item" href="../../blog/2020/0021_memo_git_post.html"><i class="fa-brands fa-git-alt"></i> git</a></li>
                            <li><a class="dropdown-item" href="../../blog/2021/0030_memo_linux_post.html"><i class="fa-brands fa-linux"></i> linux</a></li>
                            <li><a class="dropdown-item" href="../../blog/2022/0054_memo_cadrage_post.html"><i class="fa-solid fa-arrows-split-up-and-left"></i> cadrage</a></li>
                            <li><a class="dropdown-item" href="../../blog/2022/0031_memo_design_system_post.html"><i class="fa-solid fa-pencil"></i> design system</a></li>
                            <li><a class="dropdown-item" href="../../blog/2020/0016_asciidoc_markdown_memo_post.html"><i class="fa-brands fa-markdown"></i> asciidoc/markdown</a></li>
                            <li><a class="dropdown-item" href="https://pages-content.github.io/slides/" target="_blank"><i class="fa-regular fa-file-powerpoint"></i> slides</a></li>
                            <li><a class="dropdown-item" href="https://talaria-formation.github.io/formations/index.html" target="_blank"><i class="fa-solid fa-graduation-cap"></i> trainings</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html#contact">Contact</a>
                    </li>
                </ul>
                <!-- Theme Switcher moved outside the ul for simpler flexbox calculation -->
                <div class="nav-item dropdown theme-switcher-container ms-lg-3">
                    <button class="btn btn-outline-secondary dropdown-toggle theme-dropdown-btn"
                            type="button"
                            id="themeDropdown"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                            aria-label="Sélectionner le thème de l'interface">
                        <i class="bi bi-sun"></i>
                        <span id="current-theme" class="visually-hidden">Light</span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="themeDropdown">
                        <li><button class="dropdown-item theme-option"
                                    type="button"
                                    data-theme="light">
                            <i class="bi bi-sun me-2"></i>Light
                        </button></li>
                        <li><button class="dropdown-item theme-option" type="button" data-theme="dark">
                            <i class="bi bi-moon me-2"></i>Dark
                        </button></li>
                        <li><button class="dropdown-item theme-option" type="button" data-theme="high-contrast">
                            <i class="bi bi-circle-half me-2"></i>High Contrast
                        </button></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
</div>
    <main class="container main-content-padding" id="main-content">
        <article>
            <header class="page-header mb-4">
                <h1 class="h2">Internationalisation d&#39;un site statique JBake avec Thymeleaf</h1>
                <p class="lead">
                    <em>Publié le 20 October 2025</em>
                </p>
            </header>

            <div class="content"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_diagramme_de_cas_dusage_use_case">1.1. Diagramme de cas d&#8217;usage (Use Case)</a></li>
</ul>
</li>
<li><a href="#_architecture_de_linternationalisation">2. Architecture de l&#8217;internationalisation</a>
<ul class="sectlevel2">
<li><a href="#_diagramme_de_structure_organisation_des_fichiers">2.1. Diagramme de structure (Organisation des fichiers)</a></li>
<li><a href="#_pourquoi_cette_approche">2.2. Pourquoi cette approche ?</a></li>
<li><a href="#_diagramme_de_composants">2.3. Diagramme de composants</a></li>
</ul>
</li>
<li><a href="#_i18n_du_templating_avec_thymeleaf">3. I18n du templating avec Thymeleaf</a>
<ul class="sectlevel2">
<li><a href="#_structure_des_fichiers_de_messages">3.1. Structure des fichiers de messages</a></li>
<li><a href="#_contenu_des_fichiers_de_messages">3.2. Contenu des fichiers de messages</a></li>
<li><a href="#_utilisation_dans_les_templates">3.3. Utilisation dans les templates</a></li>
<li><a href="#_diagramme_de_séquence_résolution_i18n">3.4. Diagramme de séquence - Résolution i18n</a></li>
<li><a href="#_configuration_de_la_locale_dans_jbake">3.5. Configuration de la locale dans JBake</a></li>
</ul>
</li>
<li><a href="#_i18n_des_articles_organisation_par_dossiers">4. I18n des articles : organisation par dossiers</a>
<ul class="sectlevel2">
<li><a href="#_diagramme_de_flux_flow_génération">4.1. Diagramme de flux (Flow) - Génération</a></li>
<li><a href="#_structure_des_dossiers">4.2. Structure des dossiers</a></li>
<li><a href="#_avantages_de_cette_approche">4.3. Avantages de cette approche</a></li>
<li><a href="#_métadonnées_des_articles">4.4. Métadonnées des articles</a></li>
<li><a href="#_configuration_des_urls">4.5. Configuration des URLs</a></li>
</ul>
</li>
<li><a href="#_templates_pour_laffichage_multilingue">5. Templates pour l&#8217;affichage multilingue</a>
<ul class="sectlevel2">
<li><a href="#_template_darticle_avec_sélecteur_de_langue">5.1. Template d&#8217;article avec sélecteur de langue</a></li>
<li><a href="#_index_filtré_par_langue">5.2. Index filtré par langue</a></li>
</ul>
</li>
<li><a href="#_navigation_entre_langues">6. Navigation entre langues</a>
<ul class="sectlevel2">
<li><a href="#_sélecteur_de_langue_global">6.1. Sélecteur de langue global</a></li>
<li><a href="#_diagramme_de_flux_lecture_utilisateur">6.2. Diagramme de flux - Lecture utilisateur</a></li>
<li><a href="#_style_css_pour_le_sélecteur">6.3. Style CSS pour le sélecteur</a></li>
</ul>
</li>
<li><a href="#_flux_rss_par_langue">7. Flux RSS par langue</a></li>
<li><a href="#_bonnes_pratiques_et_astuces">8. Bonnes pratiques et astuces</a>
<ul class="sectlevel2">
<li><a href="#_1_cohérence_des_identifiants_darticle">8.1. 1. Cohérence des identifiants d&#8217;article</a></li>
<li><a href="#_2_dates_cohérentes">8.2. 2. Dates cohérentes</a></li>
<li><a href="#_3_tags_multilingues">8.3. 3. Tags multilingues</a></li>
<li><a href="#_4_gestion_des_articles_non_traduits">8.4. 4. Gestion des articles non traduits</a></li>
<li><a href="#_5_sitemap_multilingue">8.5. 5. Sitemap multilingue</a></li>
</ul>
</li>
<li><a href="#_conclusion">9. Conclusion</a>
<ul class="sectlevel2">
<li><a href="#_diagramme_de_déploiement">9.1. Diagramme de déploiement</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;internationalisation (i18n) d&#8217;un site statique peut sembler complexe au premier abord, mais JBake combiné avec Thymeleaf offre des solutions élégantes pour créer un site multilingue. Dans cet article, je vais vous montrer comment j&#8217;ai mis en place l&#8217;i18n sur mon blog, en couvrant à la fois le templating et la gestion des articles dans plusieurs langues.</p>
</div>
<div class="sect2">
<h3 id="_diagramme_de_cas_dusage_use_case">1.1. Diagramme de cas d&#8217;usage (Use Case)</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-c2a5be17bd909780be607cfd597f215f.png" alt="Diagram" width="660" height="447">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture_de_linternationalisation">2. Architecture de l&#8217;internationalisation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notre approche repose sur deux piliers :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>L&#8217;i18n du templating</strong> : utilisation des fichiers de messages Thymeleaf pour les éléments d&#8217;interface</p>
</li>
<li>
<p><strong>L&#8217;i18n du contenu</strong> : organisation des articles par langue dans une structure de dossiers dédiée</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_diagramme_de_structure_organisation_des_fichiers">2.1. Diagramme de structure (Organisation des fichiers)</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-2f100fc3ec2ec37f9556818cdc246602.png" alt="Diagram" width="188" height="513">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pourquoi_cette_approche">2.2. Pourquoi cette approche ?</h3>
<div class="paragraph">
<p>Cette séparation permet de :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maintenir une cohérence dans l&#8217;interface quelle que soit la langue</p>
</li>
<li>
<p>Gérer indépendamment le contenu et les traductions d&#8217;articles</p>
</li>
<li>
<p>Faciliter l&#8217;ajout de nouvelles langues sans refactoring majeur</p>
</li>
<li>
<p>Permettre des articles disponibles uniquement dans certaines langues</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_diagramme_de_composants">2.3. Diagramme de composants</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-9d42e1ff744debfc429aaa889922ac15.png" alt="Diagram" width="1771" height="477">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_i18n_du_templating_avec_thymeleaf">3. I18n du templating avec Thymeleaf</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_structure_des_fichiers_de_messages">3.1. Structure des fichiers de messages</h3>
<div class="paragraph">
<p>La première étape consiste à créer les fichiers de propriétés pour chaque langue supportée :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">src/jbake/templates/
├── messages.properties        # Fallback par défaut
├── messages_fr.properties     # Français
├── messages_en.properties     # Anglais
└── messages_de.properties     # Allemand</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_contenu_des_fichiers_de_messages">3.2. Contenu des fichiers de messages</h3>
<div class="paragraph">
<p>Voici un exemple de fichier <code>messages_fr.properties</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Navigation
nav.home=Accueil
nav.blog=Blog
nav.about=À propos
nav.contact=Contact

# Articles
article.readmore=Lire la suite
article.published=Publié le
article.tags=Étiquettes
article.also.available=Également disponible en

# Interface
site.title=Mon Blog Technique
site.description=Partage de connaissances et expériences
footer.copyright=© 2025 Tous droits réservés
search.placeholder=Rechercher un article...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et son équivalent anglais <code>messages_en.properties</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Navigation
nav.home=Home
nav.blog=Blog
nav.about=About
nav.contact=Contact

# Articles
article.readmore=Read more
article.published=Published on
article.tags=Tags
article.also.available=Also available in

# Interface
site.title=My Tech Blog
site.description=Sharing knowledge and experiences
footer.copyright=© 2025 All rights reserved
search.placeholder=Search articles...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_utilisation_dans_les_templates">3.3. Utilisation dans les templates</h3>
<div class="paragraph">
<p>Dans vos templates Thymeleaf, utilisez la syntaxe <code>#{}</code> pour accéder aux messages :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;title th:text="#{site.title}"&gt;Mon Blog&lt;/title&gt;
    &lt;meta name="description" th:content="#{site.description}" /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav&gt;
        &lt;a th:href="@{/}" th:text="#{nav.home}"&gt;Accueil&lt;/a&gt;
        &lt;a th:href="@{/blog/}" th:text="#{nav.blog}"&gt;Blog&lt;/a&gt;
        &lt;a th:href="@{/about.html}" th:text="#{nav.about}"&gt;À propos&lt;/a&gt;
    &lt;/nav&gt;

    &lt;footer&gt;
        &lt;p th:text="#{footer.copyright}"&gt;Copyright&lt;/p&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_diagramme_de_séquence_résolution_i18n">3.4. Diagramme de séquence - Résolution i18n</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-890efdf0cf45e6d957ea45af6e68a11d.png" alt="Diagram" width="910" height="882">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_de_la_locale_dans_jbake">3.5. Configuration de la locale dans JBake</h3>
<div class="paragraph">
<p>Dans votre fichier <code>jbake.properties</code>, définissez la locale par défaut :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Locale par défaut
thymeleaf.locale=fr

# Encodage
template.encoding=UTF-8</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_i18n_des_articles_organisation_par_dossiers">4. I18n des articles : organisation par dossiers</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_diagramme_de_flux_flow_génération">4.1. Diagramme de flux (Flow) - Génération</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-dc5f4bca87c443b337bf4e82c96c9a69.png" alt="Diagram" width="285" height="1034">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_structure_des_dossiers">4.2. Structure des dossiers</h3>
<div class="paragraph">
<p>Plutôt que d&#8217;utiliser des suffixes dans les noms de fichiers, j&#8217;ai opté pour une organisation par dossiers qui offre plus de clarté et de maintenabilité :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">content/blog/
├── 2024/
│   ├── fr/
│   │   ├── introduction-jbake.adoc
│   │   ├── guide-thymeleaf.adoc
│   │   └── astuces-asciidoc.adoc
│   └── en/
│       ├── introduction-jbake.adoc
│       ├── thymeleaf-guide.adoc
│       └── asciidoc-tips.adoc
└── 2025/
    ├── fr/
    │   └── internationalisation-jbake.adoc
    └── en/
        └── jbake-internationalization.adoc</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_avantages_de_cette_approche">4.3. Avantages de cette approche</h3>
<div class="paragraph">
<p>Cette structure présente plusieurs avantages :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Séparation claire</strong> : chaque langue a son propre espace</p>
</li>
<li>
<p><strong>Nommage flexible</strong> : les fichiers peuvent avoir des noms différents selon la langue</p>
</li>
<li>
<p><strong>Scalabilité</strong> : facile d&#8217;ajouter une nouvelle langue</p>
</li>
<li>
<p><strong>Organisation naturelle</strong> : suit la logique temporelle de JBake</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_métadonnées_des_articles">4.4. Métadonnées des articles</h3>
<div class="paragraph">
<p>Chaque article doit contenir des métadonnées pour permettre la liaison entre traductions. Voici un exemple :</p>
</div>
<div class="paragraph">
<p><strong>Version française</strong> (<code>2025/fr/internationalisation-jbake.adoc</code>) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">= Internationalisation d'un site statique JBake
:jbake-type: post
:jbake-status: published
:jbake-date: 2025-10-20
:jbake-lang: fr
:jbake-article-id: jbake-i18n-thymeleaf
:jbake-tags: jbake, thymeleaf, i18n
:jbake-description: Guide pour mettre en place l'i18n avec JBake</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Version anglaise</strong> (<code>2025/en/jbake-internationalization.adoc</code>) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">= Internationalizing a JBake Static Site
:jbake-type: post
:jbake-status: published
:jbake-date: 2025-10-20
:jbake-lang: en
:jbake-article-id: jbake-i18n-thymeleaf
:jbake-tags: jbake, thymeleaf, i18n
:jbake-description: Guide to implement i18n with JBake</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
L&#8217;attribut <code>:jbake-article-id:</code> est crucial : il permet de lier les différentes traductions d&#8217;un même article.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_des_urls">4.5. Configuration des URLs</h3>
<div class="paragraph">
<p>Dans <code>jbake.properties</code>, configurez le pattern d&#8217;URL pour inclure la langue :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Pattern d'URL avec langue
post.permalink.pattern=:lang/blog/:year/:name.html

# Langue par défaut
site.default.lang=fr</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela génèrera des URLs du type :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/fr/blog/2025/internationalisation-jbake.html</code></p>
</li>
<li>
<p><code>/en/blog/2025/jbake-internationalization.html</code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_templates_pour_laffichage_multilingue">5. Templates pour l&#8217;affichage multilingue</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_template_darticle_avec_sélecteur_de_langue">5.1. Template d&#8217;article avec sélecteur de langue</h3>
<div class="paragraph">
<p>Créez un template <code>post.html</code> qui affiche les traductions disponibles :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;title th:text="${content.title}"&gt;Article&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;article&gt;
        &lt;header&gt;
            &lt;h1 th:text="${content.title}"&gt;Titre&lt;/h1&gt;

            &lt;div class="article-meta"&gt;
                &lt;time th:text="${#dates.format(content.date, 'dd MMMM yyyy')}"
                      th:attr="datetime=${#dates.format(content.date, 'yyyy-MM-dd')}"&gt;
                    Date
                &lt;/time&gt;

                &lt;!-- Sélecteur de traductions --&gt;
                &lt;div class="translations" th:if="${content['article-id']}"&gt;
                    &lt;span th:text="#{article.also.available}"&gt;Aussi disponible en :&lt;/span&gt;
                    &lt;ul class="language-list"&gt;
                        &lt;li th:each="post : ${published_posts}"
                            th:if="${post['article-id'] == content['article-id'] and post.lang != content.lang}"&gt;
                            &lt;a th:href="${post.uri}"
                               th:text="${post.lang.toUpperCase()}"&gt;
                                LANG
                            &lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/header&gt;

        &lt;div class="content" th:utext="${content.body}"&gt;
            Contenu de l'article
        &lt;/div&gt;

        &lt;footer class="article-footer"&gt;
            &lt;div class="tags" th:if="${content.tags}"&gt;
                &lt;span th:text="#{article.tags}"&gt;Étiquettes :&lt;/span&gt;
                &lt;span th:each="tag : ${content.tags}"&gt;
                    &lt;a th:href="@{/tags/{tag}.html(tag=${tag})}"
                       th:text="${tag}"&gt;tag&lt;/a&gt;
                &lt;/span&gt;
            &lt;/div&gt;
        &lt;/footer&gt;
    &lt;/article&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_index_filtré_par_langue">5.2. Index filtré par langue</h3>
<div class="paragraph">
<p>Créez des templates d&#8217;index pour chaque langue :</p>
</div>
<div class="paragraph">
<p><strong><code>index.html</code></strong> (index français) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;title th:text="#{site.title}"&gt;Mon Blog&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;main&gt;
        &lt;h1 th:text="#{nav.blog}"&gt;Blog&lt;/h1&gt;

        &lt;div class="articles-list"&gt;
            &lt;article th:each="post : ${published_posts}"
                     th:if="${post.lang == 'fr'}"&gt;
                &lt;h2&gt;
                    &lt;a th:href="${post.uri}" th:text="${post.title}"&gt;Titre&lt;/a&gt;
                &lt;/h2&gt;
                &lt;time th:text="${#dates.format(post.date, 'dd MMMM yyyy')}"&gt;
                    Date
                &lt;/time&gt;
                &lt;p th:text="${post.description}"&gt;Description&lt;/p&gt;
                &lt;a th:href="${post.uri}" th:text="#{article.readmore}"&gt;
                    Lire la suite
                &lt;/a&gt;
            &lt;/article&gt;
        &lt;/div&gt;
    &lt;/main&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>index_en.html</code></strong> (index anglais) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
    &lt;title th:text="#{site.title}"&gt;My Blog&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;main&gt;
        &lt;h1 th:text="#{nav.blog}"&gt;Blog&lt;/h1&gt;

        &lt;div class="articles-list"&gt;
            &lt;article th:each="post : ${published_posts}"
                     th:if="${post.lang == 'en'}"&gt;
                &lt;h2&gt;
                    &lt;a th:href="${post.uri}" th:text="${post.title}"&gt;Title&lt;/a&gt;
                &lt;/h2&gt;
                &lt;time th:text="${#dates.format(post.date, 'dd MMMM yyyy')}"&gt;
                    Date
                &lt;/time&gt;
                &lt;p th:text="${post.description}"&gt;Description&lt;/p&gt;
                &lt;a th:href="${post.uri}" th:text="#{article.readmore}"&gt;
                    Read more
                &lt;/a&gt;
            &lt;/article&gt;
        &lt;/div&gt;
    &lt;/main&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_navigation_entre_langues">6. Navigation entre langues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sélecteur_de_langue_global">6.1. Sélecteur de langue global</h3>

</div>
<div class="sect2">
<h3 id="_diagramme_de_flux_lecture_utilisateur">6.2. Diagramme de flux - Lecture utilisateur</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-35c457cfbd1b9be0156f6bbbfb2925d1.png" alt="Diagram" width="494" height="761">
</div>
</div>
<div class="paragraph">
<p>Ajoutez un sélecteur de langue dans votre template principal :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;nav class="language-switcher"&gt;
    &lt;a href="/index.html"
       th:classappend="${content.lang == 'fr'} ? 'active'"
       title="Français"&gt;
        🇫🇷 FR
    &lt;/a&gt;
    &lt;a href="/en/index.html"
       th:classappend="${content.lang == 'en'} ? 'active'"
       title="English"&gt;
        🇬🇧 EN
    &lt;/a&gt;
&lt;/nav&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_style_css_pour_le_sélecteur">6.3. Style CSS pour le sélecteur</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-css hljs" data-lang="css">.language-switcher {
    display: flex;
    gap: 1rem;
    padding: 0.5rem;
    background: #f5f5f5;
    border-radius: 4px;
}

.language-switcher a {
    padding: 0.5rem 1rem;
    text-decoration: none;
    color: #333;
    border-radius: 4px;
    transition: background 0.2s;
}

.language-switcher a:hover {
    background: #e0e0e0;
}

.language-switcher a.active {
    background: #007bff;
    color: white;
}

.translations {
    margin: 1rem 0;
    padding: 1rem;
    background: #f8f9fa;
    border-left: 4px solid #007bff;
}

.language-list {
    display: inline-flex;
    gap: 0.5rem;
    list-style: none;
    padding: 0;
    margin: 0;
}

.language-list li::after {
    content: "•";
    margin-left: 0.5rem;
}

.language-list li:last-child::after {
    content: "";
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_flux_rss_par_langue">7. Flux RSS par langue</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour avoir des flux RSS séparés par langue, créez des templates distincts :</p>
</div>
<div class="paragraph">
<p><strong><code>feed.xml</code></strong> (flux français) :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;rss version="2.0" xmlns:th="http://www.thymeleaf.org"&gt;
    &lt;channel&gt;
        &lt;title th:text="#{site.title}"&gt;Mon Blog&lt;/title&gt;
        &lt;link th:text="${config.site_host}"&gt;http://example.com&lt;/link&gt;
        &lt;description th:text="#{site.description}"&gt;Description&lt;/description&gt;
        &lt;language&gt;fr&lt;/language&gt;

        &lt;item th:each="post : ${published_posts}"
              th:if="${post.lang == 'fr'}"&gt;
            &lt;title th:text="${post.title}"&gt;Titre&lt;/title&gt;
            &lt;link th:text="${config.site_host + post.uri}"&gt;Lien&lt;/link&gt;
            &lt;pubDate th:text="${#dates.format(post.date, 'EEE, dd MMM yyyy HH:mm:ss Z')}"&gt;
                Date
            &lt;/pubDate&gt;
            &lt;description th:text="${post.description}"&gt;Description&lt;/description&gt;
        &lt;/item&gt;
    &lt;/channel&gt;
&lt;/rss&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bonnes_pratiques_et_astuces">8. Bonnes pratiques et astuces</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_1_cohérence_des_identifiants_darticle">8.1. 1. Cohérence des identifiants d&#8217;article</h3>
<div class="paragraph">
<p>Assurez-vous que <code>:jbake-article-id:</code> est identique pour toutes les traductions d&#8217;un même article. Utilisez un format cohérent :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Préférez les identifiants en anglais pour universalité</p>
</li>
<li>
<p>Utilisez des tirets pour séparer les mots</p>
</li>
<li>
<p>Évitez les caractères spéciaux</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_2_dates_cohérentes">8.2. 2. Dates cohérentes</h3>
<div class="paragraph">
<p>Toutes les traductions d&#8217;un article doivent avoir la même date de publication (<code>:jbake-date:</code>). Cela facilite le tri et l&#8217;affichage chronologique.</p>
</div>
</div>
<div class="sect2">
<h3 id="_3_tags_multilingues">8.3. 3. Tags multilingues</h3>
<div class="paragraph">
<p>Pour les tags, vous avez deux options :</p>
</div>
<div class="paragraph">
<p><strong>Option 1 : Tags universels en anglais</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">:jbake-tags: java, spring-boot, microservices</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Option 2 : Tags traduits avec mapping</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc"># Version française
:jbake-tags: java, spring-boot, microservices

# Version anglaise
:jbake-tags: java, spring-boot, microservices</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_gestion_des_articles_non_traduits">8.4. 4. Gestion des articles non traduits</h3>
<div class="paragraph">
<p>Il n&#8217;est pas obligatoire de traduire tous les articles. Si un article n&#8217;existe que dans une langue, il n&#8217;apparaîtra simplement pas dans les listings de l&#8217;autre langue.</p>
</div>
</div>
<div class="sect2">
<h3 id="_5_sitemap_multilingue">8.5. 5. Sitemap multilingue</h3>
<div class="paragraph">
<p>Générez un sitemap qui inclut toutes les langues :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
        xmlns:xhtml="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"&gt;
    &lt;url th:each="post : ${published_posts}"&gt;
        &lt;loc th:text="${config.site_host + post.uri}"&gt;URL&lt;/loc&gt;
        &lt;lastmod th:text="${#dates.format(post.date, 'yyyy-MM-dd')}"&gt;Date&lt;/lastmod&gt;

        &lt;!-- Liens alternatifs pour les traductions --&gt;
        &lt;xhtml:link th:each="translation : ${published_posts}"
                    th:if="${translation['article-id'] == post['article-id'] and translation.lang != post.lang}"
                    rel="alternate"
                    th:attr="hreflang=${translation.lang},href=${config.site_host + translation.uri}" /&gt;
    &lt;/url&gt;
&lt;/urlset&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">9. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;internationalisation d&#8217;un site JBake avec Thymeleaf est une approche robuste et maintenable. En séparant l&#8217;i18n du templating (via les fichiers de messages) et l&#8217;i18n du contenu (via l&#8217;organisation en dossiers), vous obtenez un système flexible qui peut évoluer facilement.</p>
</div>
<div class="paragraph">
<p>Les points clés à retenir :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Fichiers de messages Thymeleaf</strong> pour l&#8217;interface utilisateur</p>
</li>
<li>
<p><strong>Organisation par dossiers</strong> (année/langue) pour les articles</p>
</li>
<li>
<p><strong>Identifiants d&#8217;article</strong> pour lier les traductions</p>
</li>
<li>
<p><strong>Templates dédiés</strong> pour chaque langue</p>
</li>
<li>
<p><strong>URLs explicites</strong> incluant le code de langue</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_diagramme_de_déploiement">9.1. Diagramme de déploiement</h3>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-e93d75cf1c345b28883ab04c6a861e54.png" alt="Diagram" width="535" height="713">
</div>
</div>
<div class="paragraph">
<p>Cette architecture vous permet de démarrer simplement avec deux langues et d&#8217;en ajouter d&#8217;autres sans refactoring majeur. Le tout reste entièrement statique et performant, fidèle à la philosophie de JBake.</p>
</div>
<div class="paragraph">
<p>Bon développement multilingue ! 🌍</p>
</div>
</div>
</div>
</div></div>

            <!-- Section Commentaires Disqus -->
            <section id="disqus_thread" class="mt-5"></section>
            <script>
                /*<![CDATA[*/
                var disqus_identifier = "blog\/2025\/0095_i18n-site-statique-jbake-thymeleaf_post.html";

                (({disqus_shortname, document}) => {
                    injectScript('//' + disqus_shortname + '.disqus.com/embed.js');
                    injectScript('//' + disqus_shortname + '.disqus.com/count.js');

                    function injectScript(url) {
                        const s = document.createElement('script');
                        s.async = true;
                        s.src = url;
                        (document.head || document.body).appendChild(s);
                    }
                })({'disqus_shortname': 'cheroliv', 'document': document});
                /*]]>*/
            </script>
            <noscript>
                <div class="alert alert-warning">
                    Veuillez activer JavaScript pour voir les
                    <a href="https://disqus.com/?ref_noscript" class="alert-link">commentaires propulsés par Disqus</a>.
                </div>
            </noscript>

        </article>
    </main>
</div>

<div>
    <!-- Footer -->
    <footer class="bg-light-theme py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; 2018-<span>2025</span> Cheroliv. Tous droits
                        réservés.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="https://github.com/cheroliv" target="_blank" class="me-3" aria-label="Profil GitHub" data-bs-toggle="tooltip" data-bs-placement="top" title="github/cheroliv"><i class="fa-brands fa-github fa-lg"></i></a>
                    <a href="../../feed.xml" aria-label="Flux RSS" data-bs-toggle="tooltip" data-bs-placement="top" title="flux RSS"><i class="fa-solid fa-rss fa-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap 5.3 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Supabase Credentials Injection -->
    <script>
        /*<![CDATA[*/
        const SUPABASE_URL = null;
        const SUPABASE_KEY = null;
        /*]]>*/
    </script>
    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/go.min.js"></script>
    <script>hljs.highlightAll();</script>
    <!-- intl-tel-input JS -->
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@25.10.1/build/js/intlTelInput.min.js"></script>
    <!-- Custom JS -->
    <script src="../../js/script.js"></script>
</div>
</body>
</html>
